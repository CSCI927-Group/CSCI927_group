{% extends 'layout.html' %}

{% block title %}Your Bookings{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="mb-4">Your Bookings for {{ email }}</h2>

  <ul class="list-group">
    {% for booking in bookings %}
    <li class="list-group-item">
      <h5>{{ booking.event }}</h5>
      <p>Date: {{ booking.date }}</p>
      <p>People: {{ booking.people }}</p>
      <button class="btn btn-danger" onclick="confirmCancel('{{ booking.id }}')">Cancel Booking</button>
    </li>
    {% endfor %}
  </ul>
</div>

<script>
function confirmCancel(bookingId) {
    // Show confirmation dialog
    if (confirm('Are you sure you want to cancel this booking?')) {
        // Show success message
        alert('Cancelled successfully!');
        // Redirect to layout.html
        window.location.href = "{{ url_for('layout_content') }}";
    } else {
        // User clicked "Cancel", do nothing (stay on the page)
        return;
    }
}
</script>
{% endblock %}
